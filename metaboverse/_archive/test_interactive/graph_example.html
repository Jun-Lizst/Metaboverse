<!--
Metaboverse
Metaboverse is designed for analysis of metabolic networks
https://github.com/j-berg/Metaboverse/
alias: metaboverse

Copyright (C) 2019 Jordan A. Berg
Email: jordan<dot>berg<at>biochem<dot>utah<dot>edu

This program is free software: you can redistribute it and/or modify it under
the terms of the GNU General Public License as published by the Free Software
Foundation, either version 3 of the License, or (at your option) any later
version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with
this program.  If not, see <https://www.gnu.org/licenses/>.


Portions of the force graphing below based on or adapted from code from Mike Bostock
The original code is under the GNU General Public License v3.0, allowing for modification
and distribution
License and copyright notice: GNU General Public License v3.0
Changes:
  - Heavily modified and added to the style CSS for more flexibility in plotting
  - Adapted general D3 plotting functions and commands to work with input data and accept flexibility
  - Modified plotting functions to allow for the differential shading of nodes
  - All other components are original
Source:
http://bl.ocks.org/mbostock/1153292
https://bl.ocks.org/mbostock/1212215
-->

<!DOCTYPE html>

<meta charset="utf-8">

<style>

  .link {
  fill: none;
  stroke: #666;
  stroke-width: 1.5px;
  }

  #catalyst {
  fill: green;
  }
  .link.catalyst {
  stroke: green;
  }

  #inhibitor {
  fill: red;
  }
  .link.inhibitor {
  stroke: red;
  }

  #complex_component {
  fill: rgba(165, 55, 253, 1);
  }
  .link.complex_component {
  stroke: rgba(165, 55, 253, 1);
  stroke-dasharray: 0,2 1;
  }

  #reaction {
  fill: grey;
  }
  .link.reaction {
  stroke: grey;
  }

  #reactant {
  fill: grey;
  }
  .link.reactant {
  stroke: grey;
  }

  #product {
  fill: grey;
  }
  .link.product {
  stroke: grey;
  }

  .node circle {
    fill: var(--node_color);
    stroke: black;
    stroke-width: 1px;
    r: 6;
  }

  .node text {
    display: none;
    font: 12px sans-serif;
    text-shadow: 0 1px 0 white,
                 1px 0 0 white,
                 0 -1px 0 white,
                 -1px 0 0 white;
  }

  .node:hover circle {
    r: 12;
  }

  .node:hover text {
    display: inline;
    font: 12px sans-serif;
    text-shadow: 0 1px 0 white,
                 1px 0 0 white,
                 0 -1px 0 white,
                 -1px 0 0 white;
  }

  .cell {
    fill: none;
    pointer-events: all;
  }

  .dot {
  height: 12px;
  width: 12px;
  border-style: solid;
  border-width: thin;
  background-color: var(--dot_color);
  stroke: black;
  border-radius: 50%;
  display: inline-block;
  }

  arrow {
    border: solid var(--arrow_color);
    border-width: 0 3px 3px 0;
    display: inline-block;
    padding: 3px;
    transform: rotate(-45deg);
    -webkit-transform: rotate(-45deg);
  }

  .sidebar {
    height: 100%;
    width: 175px;
    position: fixed;
    top: 0;
    left: 0;
    background-color: lightgrey;
    overflow-x: hidden;
    padding-top: 20px;
    padding-left: 10px;
  }

</style>

<body>

  <div class="sidebar">
    <font style="font-family: sans-serif">
    <font size="5.5"><b>Metaboverse</b></font>
    <p><b>Pathway: Urea Cycle</b></p>
    <p><span class="dot" style="--dot_color: grey"></span>  Reaction</p>
    <p><span class="dot" style="--dot_color: white"></span>  No expression value</p>
    <p><span class="dot" style="--dot_color: #5757e7"></span>  Low expression</p>
    <p><span class="dot" style="--dot_color: #e75757"></span>  High expression</p>
    <p><arrow style="--arrow_color: green"></arrow>  Catalyst</p>
    <p><arrow style="--arrow_color: red"></arrow>  Inhibitor</p>
    <p><arrow style="--arrow_color: rgba(165, 55, 253, 1)"></arrow>  Gene Component</p>
    <p></p>
    <p><font size="2.5">- Press Alt to pan and zoom</font></p>
    <p><font size="2.5">- Click and drag to pan</font></p>
    <p><font size="2.5">- Use mouse wheel to zoom</font></p>
    <p><font size="2.5"><button id="toggleAnalytes">Toggle Feature Labels</button></font></p>
    <p><font size="2.5"><button id="toggleReactions">Toggle Reaction Labels</button></font></p>
      <p><font size="2.5"><input type="number" id="gravity-value" value=0.1>Gravity</input></font></p>


    <p></p>
    <p></p>
    <p><font size="2">&copy; Jordan Berg</font></p>
  </font>
  </div>

<script src="http://d3js.org/d3.v3.min.js"></script>

<script>

  var data = [
      {
          "directed": true,
          "multigraph": false,
          "graph": {},
          "nodes": [
              {
                  "name": "arginine + H2O => ornithine + urea [ARG2]",
                  "id": "arginine + H2O => ornithine + urea [ARG2]",
                  "type": "reaction",
                  "stoichiometry": null,
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "expression": null,
                  "size": "1000"
              },
              {
                  "name": "L-Arg",
                  "id": "L-Arg",
                  "type": "product",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "custom"
                  ],
                  "rgba": [
                      1.0,
                      0.5686274509803921,
                      0.5686274509803921,
                      1.0
                  ],
                  "rgba_js": [
                      255,
                      145,
                      145,
                      1.0
                  ],
                  "expression": "1.537",
                  "size": "500"
              },
              {
                  "name": "Urea",
                  "id": "Urea",
                  "type": "product",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "custom"
                  ],
                  "rgba": [
                      1.0,
                      0.16078431372549018,
                      0.16078431372549018,
                      1.0
                  ],
                  "rgba_js": [
                      255,
                      40,
                      40,
                      1.0
                  ],
                  "expression": "3.0",
                  "size": "500"
              },
              {
                  "name": "L-Orn",
                  "id": "L-Orn",
                  "type": "product",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "white"
                  ],
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "500"
              },
              {
                  "name": "ARG2 trimer",
                  "id": "ARG2 trimer",
                  "type": "modifier",
                  "sub_type": "catalyst",
                  "stoichiometry": null,
                  "color": "white",
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "300"
              },
              {
                  "name": "ARG2",
                  "id": "ARG2",
                  "type": "complex_component",
                  "sub_type": null,
                  "stoichiometry": null,
                  "color": "custom",
                  "rgba": [
                      0.6941176470588235,
                      0.6941176470588235,
                      1.0,
                      1.0
                  ],
                  "rgba_js": [
                      177,
                      177,
                      255,
                      1.0
                  ],
                  "expression": "-1.110197889",
                  "size": "300"
              },
              {
                  "name": "carbamoyl phosphate + ornithine => citrulline + orthophosphate",
                  "id": "carbamoyl phosphate + ornithine => citrulline + orthophosphate",
                  "type": "reaction",
                  "stoichiometry": null,
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "expression": null,
                  "size": "1000"
              },
              {
                  "name": "CAP",
                  "id": "CAP",
                  "type": "product",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "custom"
                  ],
                  "rgba": [
                      1.0,
                      0.6627450980392157,
                      0.6627450980392157,
                      1.0
                  ],
                  "rgba_js": [
                      255,
                      169,
                      169,
                      1.0
                  ],
                  "expression": "1.2",
                  "size": "500"
              },
              {
                  "name": "L-Cit",
                  "id": "L-Cit",
                  "type": "product",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "custom"
                  ],
                  "rgba": [
                      0.6941176470588235,
                      0.6941176470588235,
                      1.0,
                      1.0
                  ],
                  "rgba_js": [
                      177,
                      177,
                      255,
                      1.0
                  ],
                  "expression": "-1.114",
                  "size": "500"
              },
              {
                  "name": "Pi",
                  "id": "Pi",
                  "type": "product",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "white"
                  ],
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "500"
              },
              {
                  "name": "OTC trimer",
                  "id": "OTC trimer",
                  "type": "modifier",
                  "sub_type": "catalyst",
                  "stoichiometry": null,
                  "color": "white",
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "300"
              },
              {
                  "name": "OTC",
                  "id": "OTC",
                  "type": "complex_component",
                  "sub_type": null,
                  "stoichiometry": null,
                  "color": "custom",
                  "rgba": [
                      0.7568627450980392,
                      0.7568627450980392,
                      1.0,
                      1.0
                  ],
                  "rgba_js": [
                      193,
                      193,
                      255,
                      1.0
                  ],
                  "expression": "-0.8657558559999999",
                  "size": "300"
              },
              {
                  "name": "arginine + H2O => ornithine + urea [ARG1]",
                  "id": "arginine + H2O => ornithine + urea [ARG1]",
                  "type": "reaction",
                  "stoichiometry": null,
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "expression": null,
                  "size": "1000"
              },
              {
                  "name": "ARG1 trimer",
                  "id": "ARG1 trimer",
                  "type": "modifier",
                  "sub_type": "catalyst",
                  "stoichiometry": null,
                  "color": "white",
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "300"
              },
              {
                  "name": "ARG1",
                  "id": "ARG1",
                  "type": "complex_component",
                  "sub_type": null,
                  "stoichiometry": null,
                  "color": "custom",
                  "rgba": [
                      0.34901960784313724,
                      0.34901960784313724,
                      1.0,
                      1.0
                  ],
                  "rgba_js": [
                      89,
                      89,
                      255,
                      1.0
                  ],
                  "expression": "-2.286459208",
                  "size": "300"
              },
              {
                  "name": "ASS1 tetramer:NMRAL1 dimer:NADPH transforms L-Asp and L-Cit to ARSUA",
                  "id": "ASS1 tetramer:NMRAL1 dimer:NADPH transforms L-Asp and L-Cit to ARSUA",
                  "type": "reaction",
                  "stoichiometry": null,
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "expression": null,
                  "size": "1000"
              },
              {
                  "name": "L-Asp",
                  "id": "L-Asp",
                  "type": "reactant",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "custom"
                  ],
                  "rgba": [
                      1.0,
                      0.9921568627450981,
                      0.9921568627450981,
                      1.0
                  ],
                  "rgba_js": [
                      255,
                      253,
                      253,
                      1.0
                  ],
                  "expression": "0.053",
                  "size": "500"
              },
              {
                  "name": "PPi",
                  "id": "PPi",
                  "type": "product",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "white"
                  ],
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "500"
              },
              {
                  "name": "ARSUA",
                  "id": "ARSUA",
                  "type": "reactant",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "custom"
                  ],
                  "rgba": [
                      0.23921568627450981,
                      0.23921568627450981,
                      1.0,
                      1.0
                  ],
                  "rgba_js": [
                      61,
                      61,
                      255,
                      1.0
                  ],
                  "expression": "-2.709",
                  "size": "500"
              },
              {
                  "name": "AMP",
                  "id": "AMP",
                  "type": "product",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "white"
                  ],
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "500"
              },
              {
                  "name": "ASS1 tetramer:NMRAL1 dimer:NADPH",
                  "id": "ASS1 tetramer:NMRAL1 dimer:NADPH",
                  "type": "modifier",
                  "sub_type": "catalyst",
                  "stoichiometry": null,
                  "color": "white",
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "300"
              },
              {
                  "name": "NMRAL1",
                  "id": "NMRAL1",
                  "type": "complex_component",
                  "sub_type": null,
                  "stoichiometry": null,
                  "color": "custom",
                  "rgba": [
                      0.8666666666666667,
                      0.8666666666666667,
                      1.0,
                      1.0
                  ],
                  "rgba_js": [
                      221,
                      221,
                      255,
                      1.0
                  ],
                  "expression": "-0.489337951",
                  "size": "300"
              },
              {
                  "name": "ASS1",
                  "id": "ASS1",
                  "type": "complex_component",
                  "sub_type": null,
                  "stoichiometry": null,
                  "color": "custom",
                  "rgba": [
                      0.6941176470588235,
                      0.6941176470588235,
                      1.0,
                      1.0
                  ],
                  "rgba_js": [
                      177,
                      177,
                      255,
                      1.0
                  ],
                  "expression": "-1.065365108",
                  "size": "300"
              },
              {
                  "name": "glutamate + acetyl CoA => N-acetyl glutamate + CoA",
                  "id": "glutamate + acetyl CoA => N-acetyl glutamate + CoA",
                  "type": "reaction",
                  "stoichiometry": null,
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "expression": null,
                  "size": "1000"
              },
              {
                  "name": "Ac-CoA",
                  "id": "Ac-CoA",
                  "type": "reactant",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "white"
                  ],
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "500"
              },
              {
                  "name": "L-Glu",
                  "id": "L-Glu",
                  "type": "reactant",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "white"
                  ],
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "500"
              },
              {
                  "name": "CoA-SH",
                  "id": "CoA-SH",
                  "type": "product",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "white"
                  ],
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "500"
              },
              {
                  "name": "NAcGlu",
                  "id": "NAcGlu",
                  "type": "modifier",
                  "sub_type": "positiveregulator",
                  "stoichiometry": null,
                  "color": "white",
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "300"
              },
              {
                  "name": "NAGS(19-534)",
                  "id": "NAGS(19-534)",
                  "type": "modifier",
                  "sub_type": "catalyst",
                  "stoichiometry": null,
                  "color": "white",
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "300"
              },
              {
                  "name": "ornithine (cytosolic) + citrulline (mitochondrial) => ornithine (mitochondrial) + citrulline (cytosolic)",
                  "id": "ornithine (cytosolic) + citrulline (mitochondrial) => ornithine (mitochondrial) + citrulline (cytosolic)",
                  "type": "reaction",
                  "stoichiometry": null,
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "expression": null,
                  "size": "1000"
              },
              {
                  "name": "R-HSA-374018",
                  "id": "R-HSA-374018",
                  "type": "modifier",
                  "sub_type": "catalyst",
                  "stoichiometry": null,
                  "color": "white",
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "300"
              },
              {
                  "name": "2 ATP + NH4+ + HCO3- => 2 ADP + orthophosphate + carbamoyl phosphate [mitochondrial]",
                  "id": "2 ATP + NH4+ + HCO3- => 2 ADP + orthophosphate + carbamoyl phosphate [mitochondrial]",
                  "type": "reaction",
                  "stoichiometry": null,
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "expression": null,
                  "size": "1000"
              },
              {
                  "name": "NH4+",
                  "id": "NH4+",
                  "type": "reactant",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "white"
                  ],
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "500"
              },
              {
                  "name": "HCO3-",
                  "id": "HCO3-",
                  "type": "reactant",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "white"
                  ],
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "500"
              },
              {
                  "name": "CPS1",
                  "id": "CPS1",
                  "type": "modifier",
                  "sub_type": "catalyst",
                  "stoichiometry": null,
                  "color": "custom",
                  "rgba": [
                      0.7254901960784313,
                      0.7254901960784313,
                      1.0,
                      1.0
                  ],
                  "rgba_js": [
                      185,
                      185,
                      255,
                      1.0
                  ],
                  "expression": "-0.985958535",
                  "size": "300"
              },
              {
                  "name": "argininosuccinate <=> fumarate + arginine",
                  "id": "argininosuccinate <=> fumarate + arginine",
                  "type": "reaction",
                  "stoichiometry": null,
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "expression": null,
                  "size": "1000"
              },
              {
                  "name": "FUMA",
                  "id": "FUMA",
                  "type": "product",
                  "sub_type": null,
                  "stoichiometry": "1",
                  "color": [
                      "custom"
                  ],
                  "rgba": [
                      0.5372549019607841,
                      0.5372549019607841,
                      1.0,
                      1.0
                  ],
                  "rgba_js": [
                      136,
                      136,
                      255,
                      1.0
                  ],
                  "expression": "-1.67",
                  "size": "500"
              },
              {
                  "name": "ASL tetramer",
                  "id": "ASL tetramer",
                  "type": "modifier",
                  "sub_type": "catalyst",
                  "stoichiometry": null,
                  "color": "white",
                  "rgba": [
                      1,
                      1,
                      1,
                      1
                  ],
                  "rgba_js": [
                      255,
                      255,
                      255,
                      1
                  ],
                  "expression": "None",
                  "size": "300"
              },
              {
                  "name": "ASL",
                  "id": "ASL",
                  "type": "complex_component",
                  "sub_type": null,
                  "stoichiometry": null,
                  "color": "custom",
                  "rgba": [
                      0.6313725490196078,
                      0.6313725490196078,
                      1.0,
                      1.0
                  ],
                  "rgba_js": [
                      161,
                      161,
                      255,
                      1.0
                  ],
                  "expression": "-1.2857802839999999",
                  "size": "300"
              }
          ],
          "links": [
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "arginine + H2O => ornithine + urea [ARG2]",
                  "target": "Urea"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "arginine + H2O => ornithine + urea [ARG2]",
                  "target": "L-Orn"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "L-Arg",
                  "target": "arginine + H2O => ornithine + urea [ARG2]"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "L-Arg",
                  "target": "arginine + H2O => ornithine + urea [ARG1]"
              },
              {
                  "type": "positiveregulator",
                  "color": "green",
                  "rgba": [
                      0,
                      0.5,
                      0,
                      1
                  ],
                  "rgba_js": [
                      0,
                      127,
                      0,
                      1
                  ],
                  "source": "L-Arg",
                  "target": "glutamate + acetyl CoA => N-acetyl glutamate + CoA"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "L-Arg",
                  "target": "argininosuccinate <=> fumarate + arginine"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "L-Orn",
                  "target": "carbamoyl phosphate + ornithine => citrulline + orthophosphate"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "L-Orn",
                  "target": "ornithine (cytosolic) + citrulline (mitochondrial) => ornithine (mitochondrial) + citrulline (cytosolic)"
              },
              {
                  "type": "catalyst",
                  "color": "green",
                  "rgba": [
                      0,
                      0.5,
                      0,
                      1
                  ],
                  "rgba_js": [
                      0,
                      127,
                      0,
                      1
                  ],
                  "source": "ARG2 trimer",
                  "target": "arginine + H2O => ornithine + urea [ARG2]"
              },
              {
                  "type": "complex_component",
                  "color": "purple",
                  "rgba": [
                      0.5,
                      0,
                      0.5,
                      0.9
                  ],
                  "rgba_js": [
                      127,
                      0,
                      127,
                      0.9
                  ],
                  "source": "ARG2",
                  "target": "ARG2 trimer"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "carbamoyl phosphate + ornithine => citrulline + orthophosphate",
                  "target": "L-Cit"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "carbamoyl phosphate + ornithine => citrulline + orthophosphate",
                  "target": "Pi"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "CAP",
                  "target": "carbamoyl phosphate + ornithine => citrulline + orthophosphate"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "L-Cit",
                  "target": "ASS1 tetramer:NMRAL1 dimer:NADPH transforms L-Asp and L-Cit to ARSUA"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "L-Cit",
                  "target": "ornithine (cytosolic) + citrulline (mitochondrial) => ornithine (mitochondrial) + citrulline (cytosolic)"
              },
              {
                  "type": "catalyst",
                  "color": "green",
                  "rgba": [
                      0,
                      0.5,
                      0,
                      1
                  ],
                  "rgba_js": [
                      0,
                      127,
                      0,
                      1
                  ],
                  "source": "OTC trimer",
                  "target": "carbamoyl phosphate + ornithine => citrulline + orthophosphate"
              },
              {
                  "type": "complex_component",
                  "color": "purple",
                  "rgba": [
                      0.5,
                      0,
                      0.5,
                      0.9
                  ],
                  "rgba_js": [
                      127,
                      0,
                      127,
                      0.9
                  ],
                  "source": "OTC",
                  "target": "OTC trimer"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "arginine + H2O => ornithine + urea [ARG1]",
                  "target": "Urea"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "arginine + H2O => ornithine + urea [ARG1]",
                  "target": "L-Orn"
              },
              {
                  "type": "catalyst",
                  "color": "green",
                  "rgba": [
                      0,
                      0.5,
                      0,
                      1
                  ],
                  "rgba_js": [
                      0,
                      127,
                      0,
                      1
                  ],
                  "source": "ARG1 trimer",
                  "target": "arginine + H2O => ornithine + urea [ARG1]"
              },
              {
                  "type": "complex_component",
                  "color": "purple",
                  "rgba": [
                      0.5,
                      0,
                      0.5,
                      0.9
                  ],
                  "rgba_js": [
                      127,
                      0,
                      127,
                      0.9
                  ],
                  "source": "ARG1",
                  "target": "ARG1 trimer"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "ASS1 tetramer:NMRAL1 dimer:NADPH transforms L-Asp and L-Cit to ARSUA",
                  "target": "PPi"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "ASS1 tetramer:NMRAL1 dimer:NADPH transforms L-Asp and L-Cit to ARSUA",
                  "target": "ARSUA"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "ASS1 tetramer:NMRAL1 dimer:NADPH transforms L-Asp and L-Cit to ARSUA",
                  "target": "AMP"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "L-Asp",
                  "target": "ASS1 tetramer:NMRAL1 dimer:NADPH transforms L-Asp and L-Cit to ARSUA"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "ARSUA",
                  "target": "argininosuccinate <=> fumarate + arginine"
              },
              {
                  "type": "catalyst",
                  "color": "green",
                  "rgba": [
                      0,
                      0.5,
                      0,
                      1
                  ],
                  "rgba_js": [
                      0,
                      127,
                      0,
                      1
                  ],
                  "source": "ASS1 tetramer:NMRAL1 dimer:NADPH",
                  "target": "ASS1 tetramer:NMRAL1 dimer:NADPH transforms L-Asp and L-Cit to ARSUA"
              },
              {
                  "type": "complex_component",
                  "color": "purple",
                  "rgba": [
                      0.5,
                      0,
                      0.5,
                      0.9
                  ],
                  "rgba_js": [
                      127,
                      0,
                      127,
                      0.9
                  ],
                  "source": "NMRAL1",
                  "target": "ASS1 tetramer:NMRAL1 dimer:NADPH"
              },
              {
                  "type": "complex_component",
                  "color": "purple",
                  "rgba": [
                      0.5,
                      0,
                      0.5,
                      0.9
                  ],
                  "rgba_js": [
                      127,
                      0,
                      127,
                      0.9
                  ],
                  "source": "ASS1",
                  "target": "ASS1 tetramer:NMRAL1 dimer:NADPH"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "glutamate + acetyl CoA => N-acetyl glutamate + CoA",
                  "target": "CoA-SH"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "glutamate + acetyl CoA => N-acetyl glutamate + CoA",
                  "target": "NAcGlu"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "Ac-CoA",
                  "target": "glutamate + acetyl CoA => N-acetyl glutamate + CoA"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "L-Glu",
                  "target": "glutamate + acetyl CoA => N-acetyl glutamate + CoA"
              },
              {
                  "type": "positiveregulator",
                  "color": "green",
                  "rgba": [
                      0,
                      0.5,
                      0,
                      1
                  ],
                  "rgba_js": [
                      0,
                      127,
                      0,
                      1
                  ],
                  "source": "NAcGlu",
                  "target": "2 ATP + NH4+ + HCO3- => 2 ADP + orthophosphate + carbamoyl phosphate [mitochondrial]"
              },
              {
                  "type": "catalyst",
                  "color": "green",
                  "rgba": [
                      0,
                      0.5,
                      0,
                      1
                  ],
                  "rgba_js": [
                      0,
                      127,
                      0,
                      1
                  ],
                  "source": "NAGS(19-534)",
                  "target": "glutamate + acetyl CoA => N-acetyl glutamate + CoA"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "ornithine (cytosolic) + citrulline (mitochondrial) => ornithine (mitochondrial) + citrulline (cytosolic)",
                  "target": "L-Orn"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "ornithine (cytosolic) + citrulline (mitochondrial) => ornithine (mitochondrial) + citrulline (cytosolic)",
                  "target": "L-Cit"
              },
              {
                  "type": "catalyst",
                  "color": "green",
                  "rgba": [
                      0,
                      0.5,
                      0,
                      1
                  ],
                  "rgba_js": [
                      0,
                      127,
                      0,
                      1
                  ],
                  "source": "R-HSA-374018",
                  "target": "ornithine (cytosolic) + citrulline (mitochondrial) => ornithine (mitochondrial) + citrulline (cytosolic)"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "2 ATP + NH4+ + HCO3- => 2 ADP + orthophosphate + carbamoyl phosphate [mitochondrial]",
                  "target": "Pi"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "2 ATP + NH4+ + HCO3- => 2 ADP + orthophosphate + carbamoyl phosphate [mitochondrial]",
                  "target": "CAP"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "NH4+",
                  "target": "2 ATP + NH4+ + HCO3- => 2 ADP + orthophosphate + carbamoyl phosphate [mitochondrial]"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "HCO3-",
                  "target": "2 ATP + NH4+ + HCO3- => 2 ADP + orthophosphate + carbamoyl phosphate [mitochondrial]"
              },
              {
                  "type": "catalyst",
                  "color": "green",
                  "rgba": [
                      0,
                      0.5,
                      0,
                      1
                  ],
                  "rgba_js": [
                      0,
                      127,
                      0,
                      1
                  ],
                  "source": "CPS1",
                  "target": "2 ATP + NH4+ + HCO3- => 2 ADP + orthophosphate + carbamoyl phosphate [mitochondrial]"
              },
              {
                  "type": "reactant",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "argininosuccinate <=> fumarate + arginine",
                  "target": "ARSUA"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "argininosuccinate <=> fumarate + arginine",
                  "target": "L-Arg"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "argininosuccinate <=> fumarate + arginine",
                  "target": "FUMA"
              },
              {
                  "type": "product",
                  "color": "grey",
                  "rgba": [
                      0.75,
                      0.75,
                      0.75,
                      1
                  ],
                  "rgba_js": [
                      191,
                      191,
                      191,
                      1
                  ],
                  "source": "FUMA",
                  "target": "argininosuccinate <=> fumarate + arginine"
              },
              {
                  "type": "catalyst",
                  "color": "green",
                  "rgba": [
                      0,
                      0.5,
                      0,
                      1
                  ],
                  "rgba_js": [
                      0,
                      127,
                      0,
                      1
                  ],
                  "source": "ASL tetramer",
                  "target": "argininosuccinate <=> fumarate + arginine"
              },
              {
                  "type": "complex_component",
                  "color": "purple",
                  "rgba": [
                      0.5,
                      0,
                      0.5,
                      0.9
                  ],
                  "rgba_js": [
                      127,
                      0,
                      127,
                      0.9
                  ],
                  "source": "ASL",
                  "target": "ASL tetramer"
              }
          ]
      }
  ];

  // Extract links links from data for downstream use
  var links = data[0].links;

  // Set nodes variables up and extract node data
  var nodex = {}
  var nodes = data[0].nodes;

  // Make dictionary of node color values and types
  node_dict = {}
  type_dict = {}
  nodes.forEach(function(node) {

    node_dict[node['name']] = node['rgba_js']
    type_dict[node['name']] = node['type']

  });

  // Populate node object with relevant information and data
  links.forEach(function(link) {

    // Add pertinent node information
    link.source = nodex[link.source] || (nodex[link.source] = {name: link.source});
    link.target = nodex[link.target] || (nodex[link.target] = {name: link.target});
    nodex[link.source["name"]]["color"] = node_dict[link.source["name"]];
    nodex[link.target["name"]]["color"] = node_dict[link.target["name"]];

    // Prioritize reaction nodes in layout
    if (type_dict[link.source["name"]] == "reaction") {
      nodex[link.source["name"]]["weight"] = 100;
    } else {
      nodex[link.source["name"]]["weight"] = 1;
    };

    if (type_dict[link.target["name"]] == "reaction") {
      nodex[link.target["name"]]["weight"] = 100;
    } else {
      nodex[link.target["name"]]["weight"] = 1;
    };

  });

  // Allow flexible window dimensions based on initial window size when opened
  var width = window.innerWidth;
  var height = window.innerHeight;

  var svg = d3.select("body").append("svg")
    .attr("width", width)
    .attr("height", height)
    .call(d3.behavior.zoom()
      .on("zoom", activate_zoom));

  var force = d3.layout.force()
      .gravity(0.1)
      .linkDistance(60)
      .charge(-500)
      .on("tick", tick)
      .size([width, height]);

  d3.select("#gravity").on("input", function() {

    console.log(this.value);

  });

  var voronoi = d3.geom.voronoi()
      .x(function(d) { return d.x; })
      .y(function(d) { return d.y; })
      .clipExtent([[0, 0], [width, height]]);

  // Initialize force graph object
  var g_nodes = d3.values(nodex);

  // Build graph
  force
      .nodes(g_nodes)
      .links(links)
      .start();

  // Generate edges with style attributes
  svg.append("defs").selectAll("marker")
      .data([
        "reaction",
        "reactant",
        "product",
        "inhibitor",
        "catalyst",
        "complex_component"])
    .enter()
    .append("marker")
      .attr("id", function(d) { return d; })
      .attr("viewBox", "0 -5 10 10")
      .attr("refX", 15)
      .attr("refY", -1.5)
      .attr("markerWidth", 6)
      .attr("markerHeight", 6)
      .attr("orient", "auto")
    .append("path")
      .attr("d", "M0,-5L10,0L0,5");

  var path = svg.append("g").selectAll("path")
      .data(force.links())
    .enter().append("path")
      .attr("class", function(d) { return "link " + d.type; })
      .attr("marker-end", function(d) { return "url(#" + d.type + ")"; });

  var node = svg.selectAll(".node")
      .data(g_nodes)
    .enter().append("g")
      .attr("class", "node")
      .style("--node_color", function(d) { return "rgba(" + d.color + ")"; })
      .call(force.drag);

  var circle = node.append("circle")
      .attr("r", 6);

  var text = node.append("text")
      .attr("x", 16)
      .attr("y", ".31em")
      .text(function(d) { return d.name; });

  var cell = node.append("path")
      .attr("class", "cell");

  // Draw curved edges
  function tick() {
    path.attr("d", linkArc);
    circle.attr("transform", transform);
    text.attr("transform", transform);
  }

  function linkArc(d) {

    var dx = d.target.x - d.source.x,
        dy = d.target.y - d.source.y,
        dr = Math.sqrt(dx * dx + dy * dy);

    return "M" + d.source.x + "," + d.source.y + "A" + dr + "," + dr + " 0 0,1 " + d.target.x + "," + d.target.y;

  }

  function transform(d) {

    return "translate(" + d.x + "," + d.y + ")";

  }

  // Toggle zoom and pan by pressing the Alt key
  // This section adapted from Pedro Tabacof, https://stackoverflow.com/a/34815469/9571488

  var toggle_zoom = false;

  function activate_zoom() {

    if (toggle_zoom === true) {

      svg.attr(
        "transform",
        "translate(" + d3.event.translate + ")" + " scale(" + d3.event.scale + ")"

        );
      }
    };

  d3.select("body")
    .on("keydown", function () {

      toggle_zoom = d3.event.altKey;

    });

  d3.select("body")
    .on("keyup", function () {

      toggle_zoom = false;

    });
  // End of adaption of code by Pedro Tabacof

  toggle_a = false
  d3.select("#toggleAnalytes").on("click", function() {
    if (toggle_a === false) {

      toggle_a = true;
      console.log(text)
      var text = svg.append("g").selectAll("text")
        .data(force.nodes())
        .attr("class", "update")
        .enter().append("text")
          .attr("class", "enter")
          .attr("x", function(d, i) { return i * 32; })
          .attr("dy", ".35em")
        .merge(text)
          .text(function(d) { return d.name; });

    } else {

      toggle_a = false;

    }

    console.log(toggle_a)

  });


  toggle_r = false
  d3.select("#toggleReactions").on("click", function() {

    if (toggle_r === false) {

      toggle_r = true;

    } else {

      toggle_r = false;

    }

    console.log('HELLO')

  });

</script>
</body>
